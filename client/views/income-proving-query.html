<div class="error-summary" ng-if="vm.serverError !== ''">
    <h1 class="heading-medium error-summary-heading" id="server-error-summary-heading">
        Something's gone wrong
    </h1>
    <p id="serverError">You can’t use this service just now. The problem will be fixed as soon as possible</p>
    <p id="serverErrorDetail">Please try again later.</p>
</div>

<div class="column-full-width">
    <div id="page1" data-bind="visible: currentPage() === 1">
        <h1 class="heading-xlarge" id="pageSubTitle">Individual details</h1>
        <div class="text">
            <p class="lede" id="pageSubText">
                Use this tool to query HMRC. It will provide the income of a person using their National Insurance
                Number.
            </p>
        </div>

        <div class="form-group">
            <form name="vm.queryForm" ng-submit="vm.submit()">

                <div ng-if="vm.validateError" class="error-summary"
                     role="group" aria-labelledby="validation-error-summary-heading" tabindex="-1">

                    <h1 class="heading-medium error-summary-heading" id="validation-error-summary-heading">
                        There's some invalid information
                    </h1>

                    <p id="validation-error-summary-text">Make sure that all the fields have been completed</p>

                    <ul class="error-summary-list" id="error-summary-list">

                        <li ng-if="vm.ninoNotFoundError">
                            <a href="" ng-click="vm.scrollTo('nino')">The National Insurance Number was not found</a>
                        </li>
                        <li ng-if="vm.ninoInvalidError">
                            <a href="" ng-click="vm.scrollTo('nino')">The National Insurance Number is invalid</a></li>
                        <li ng-if="vm.ninoMissingError">
                            <a href="" ng-click="vm.scrollTo('nino')">The National Insurance Number is invalid</a></li>
                        <li ng-if="vm.fromDateMissingError">
                            <a href="" ng-click="vm.scrollTo('fromDateDay')">The from date is invalid</a></li>
                        <li ng-if="vm.fromDateInvalidError">
                            <a href="" ng-click="vm.scrollTo('fromDateDay')">The from date is invalid</a></li>
                        <li ng-if="vm.toDateMissingError">
                            <a href="" ng-click="vm.scrollTo('toDateDay')">The to date is invalid</a></li>
                        <li ng-if="vm.toDateateInvalidError">
                            <a href="" ng-click="vm.scrollTo('toDateDay')">The to date is invalid</a></li>
                    </ul>
                </div>

                <div class="form-group"
                     ng-class="{error : vm.restError || vm.ninoInvalidError || vm.ninoMissingError }">
                    <label for="nino" class="form-label-bold">
                        National Insurance Number
                    </label>
                    <span class="form-hint">For example, 'QQ 12 34 56 C'.</span>
                    <span id="nino-error" class="error-message" ng-if="vm.ninoNotFoundError">
                        National Insurance Number was not found</span>
                    <span id="nino-error" class="error-message"
                          ng-if="vm.ninoMissingError">Enter a valid National Insurance Number</span>
                    <span id="nino-error" class="error-message" ng-if="vm.ninoInvalidError">
                            Enter a valid National Insurance Number</span>
                    <input type="text" id="nino" name="nino" class="form-control" ng-model="vm.model.nino"
                           autocomplete="off">
                </div>


                <div class="form-group " id="from-date"
                     ng-class="{error : vm.fromDateMissingError || vm.fromDateInvalidError}">

                    <fieldset>
                        <legend class="form-label-bold">From date</legend>
                        <div class="form-date">
                            <p class="form-hint">For example, 31 3 1980</p>
                            <span id="application—raised-date-error" class="error-message"
                                  ng-if="vm.fromDateMissingError || vm.fromDateInvalidError">
                                    Enter a valid from date</span>
                            <div class="form-group form-group-day">
                                <label for="fromDateDay">Day</label>
                                <input class="form-control" name="fromDateDay" id="fromDateDay" type="number"
                                       pattern="[0-9]*" ng-model="vm.model.fromDateDay" autocomplete="off">
                            </div>

                            <div class="form-group form-group-month">
                                <label for="fromDateMonth">Month</label>
                                <input class="form-control" name="fromDateMonth" id="fromDateMonth"
                                       type="number" pattern="[0-9]*" ng-model="vm.model.fromDateMonth"
                                       autocomplete="off">
                            </div>

                            <div class="form-group form-group-year">
                                <label for="fromDateYear">Year</label>
                                <input class="form-control" name="fromDateYear" id="fromDateYear" type="number"
                                       pattern="[0-9]*" ng-model="vm.model.fromDateYear" autocomplete="off">
                            </div>
                        </div>

                    </fieldset>
                </div>
                <div class="form-group " id="to-date"
                     ng-class="{error : vm.toDateMissingError || vm.toDateInvalidError}">

                    <fieldset>
                        <legend class="form-label-bold">To date</legend>
                        <div class="form-date">
                            <p class="form-hint">For example, 31 3 1980</p>
                            <span id="application—raised-date-error" class="error-message"
                                  ng-if="vm.toDateMissingError || vm.toDateInvalidError">
                                    Enter a valid to date</span>
                            <div class="form-group form-group-day">
                                <label for="toDateDay">Day</label>
                                <input class="form-control" name="toDateDay" id="toDateDay" type="number"
                                       pattern="[0-9]*" ng-model="vm.model.toDateDay" autocomplete="off">
                            </div>

                            <div class="form-group form-group-month">
                                <label for="toDateMonth">Month</label>
                                <input class="form-control" name="toDateMonth" id="toDateMonth"
                                       type="number" pattern="[0-9]*" ng-model="vm.model.toDateMonth"
                                       autocomplete="off">
                            </div>

                            <div class="form-group form-group-year">
                                <label for="toDateYear">Year</label>
                                <input class="form-control" name="toDateYear" id="toDateYear" type="number"
                                       pattern="[0-9]*" ng-model="vm.model.toDateYear" autocomplete="off">
                            </div>
                        </div>

                    </fieldset>
                </div>

                <div class="form-group">
                    <p><input type="submit" class="button continue-button" value="Check eligibility"></p>
                </div>

            </form>
        </div>
    </div>

</div>